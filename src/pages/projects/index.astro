---
import { getCollection } from 'astro:content';

import BoxHeader from '@/components/box/header.astro';
import Box from '@/components/box/index.astro';
import BoxTitle from '@/components/box/title.astro';
import ProjectItem from '@/components/sections/projects/project-item.astro';
import Pattern from '@/components/ui/pattern.astro';
import PageLayout from '@/layouts/page-layout.astro';

const projects = await getCollection('projects');

const coreProjects = projects.filter((project) => project.data.type === 'core');
---

<PageLayout
  description="A collection of things Iâ€™ve built, full-stack apps, experiments, and side projects."
  title="My Projects"
>
  <Pattern />
  <Box>
    <BoxHeader>
      <BoxTitle> Built to Last </BoxTitle>
    </BoxHeader>

    {coreProjects.map((item) => <ProjectItem project={item} />)}
  </Box>

  <Pattern />
</PageLayout>
